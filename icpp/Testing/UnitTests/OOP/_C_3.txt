//  проверка бага 1868 http://cvs.alterplast.ru/bugs/show_bug.cgi?id=1868

Перем Журнал Экспорт;

Функция Конт(Конт) Возврат Конт; КонецФункции // : Контекст
Функция Сам() Возврат Конт(Контекст); КонецФункции // : Контекст

Функция Объект() Возврат СоздатьОбъект("Тесты_ПарамПоУмолчаниюC_3ТочкамиВнутри"); КонецФункции

//число Метод_3Точки_ВКонце(Дата Значение, Строка Загол = "Введите дату...", Число ТаймАут=0);
Функция Метод_3Точки_ВКонце(Значение, Загол, ТаймАут) Экспорт
	Возврат 1;
КонецФункции	// 

//число Метод_3Точки_ВСередине(Дата Значение, Строка Загол = "Введите дату... и еще что-то", Число ТаймАут=0);
Функция Метод_3Точки_ВСередине(Значение, Загол, ТаймАут) Экспорт
	Возврат 1;
КонецФункции	// 

//число Метод_3Точки_ВНачале(Дата Значение, Строка Загол = "...Введите дату", Число ТаймАут=0);
Функция Метод_3Точки_ВНачале(Значение, Загол, ТаймАут) Экспорт
	Возврат 1;
КонецФункции	// 

//число Метод_Только_3Точки(Дата Значение, Строка Загол = "...", Число ТаймАут=0);
Функция Метод_Только_3Точки(Значение, Загол, ТаймАут) Экспорт
	Возврат 1;
КонецФункции	// 
             
//	число Метод_СНеопределеннымКоличествомПараметров(Дата Значение, ...);
Функция Метод_СНеопределеннымКоличествомПараметров(Значение) Экспорт
	Журнал = СоздатьОбъект("ЖурналВызоваМетодов");
	Журнал.ДобавитьЗапись("Значение:"+Значение);
	сзПараметры = Сам().ПолучитьСписокПараметров("Метод_СНеопределеннымКоличествомПараметров");
	
	//Сообщить("Доп. параметров: "+сзПараметры.РазмерСписка());
	Журнал.ДобавитьЗапись("КоличествоПараметров:"+сзПараметры.РазмерСписка());

	Возврат сзПараметры;
КонецФункции	//

Функция Метод_СНеопределеннымКоличествомПараметров_вирт() Экспорт
	Журнал = СоздатьОбъект("ЖурналВызоваМетодов");
	сзПараметры = вирт().ПолучитьСписокПараметров("Метод_СНеопределеннымКоличествомПараметров_вирт");
	
	//Сообщить("Доп. параметров: "+сзПараметры.РазмерСписка());
	Журнал.ДобавитьЗапись("КоличествоПараметров:"+сзПараметры.РазмерСписка());

	Возврат сзПараметры;
КонецФункции	//

Функция Функция_СНеопределеннымКоличествомПараметров_БезВозвращаемогоЗначенияВ_PrmФайле() Экспорт
	Журнал = СоздатьОбъект("ЖурналВызоваМетодов");
	сзПараметры = вирт().ПолучитьСписокПараметров("Функция_СНеопределеннымКоличествомПараметров_БезВозвращаемогоЗначенияВ_PrmФайле");
	
	//Сообщить("Доп. параметров: "+сзПараметры.РазмерСписка());
	Журнал.ДобавитьЗапись("КоличествоПараметров:"+сзПараметры.РазмерСписка());

	Возврат 1;
КонецФункции	//

Процедура Процедура_СНеопределеннымКоличествомПараметров_БезВозвращаемогоЗначенияВ_PrmФайле() Экспорт
	Журнал = СоздатьОбъект("ЖурналВызоваМетодов");
	сзПараметры = вирт().ПолучитьСписокПараметров("Процедура_СНеопределеннымКоличествомПараметров_БезВозвращаемогоЗначенияВ_PrmФайле");
	
	//Сообщить("Доп. параметров: "+сзПараметры.РазмерСписка());
	Журнал.ДобавитьЗапись("КоличествоПараметров:"+сзПараметры.РазмерСписка());
КонецПроцедуры

Функция Вызвать_Метод_СНеопределеннымКоличествомПараметров(Вариант) Экспорт
	Если Вариант = 2 Тогда
		Возврат вирт().Метод_СНеопределеннымКоличествомПараметров('01.01.1900', 123, "34");
	ИначеЕсли Вариант = 3 Тогда
		Возврат вирт().Метод_СНеопределеннымКоличествомПараметров('01.01.1900', 123, "34", 1);
	КонецЕсли;
КонецФункции	//

Функция Вызвать_Метод_СНеопределеннымКоличествомПараметров_вирт(Вариант) Экспорт
	Если Вариант = 3 Тогда
		Возврат вирт().Метод_СНеопределеннымКоличествомПараметров_вирт('01.01.1900', 123, "34");
	Иначе
		Возврат вирт().Метод_СНеопределеннымКоличествомПараметров_вирт('01.01.1900', 123, "34", 1);
	КонецЕсли;
КонецФункции	//

Процедура Тест_Метод_3Точки_ВКонце() Экспорт
	Объект = Объект();
	
	Объект.Метод_3Точки_ВКонце('01.01.1900');
	Объект.Метод_3Точки_ВКонце('01.01.1900',);
	Объект.Метод_3Точки_ВКонце('01.01.1900',,);
КонецПроцедуры	// 

Процедура Тест_Метод_3Точки_ВСередине() Экспорт
	Объект = Объект();
	
	Объект.Метод_3Точки_ВСередине('01.01.1900');
	Объект.Метод_3Точки_ВСередине('01.01.1900',);
	Объект.Метод_3Точки_ВСередине('01.01.1900',,);
КонецПроцедуры	// 

Процедура Тест_Метод_3Точки_ВНачале() Экспорт
	Объект = Объект();
	
	Объект.Метод_3Точки_ВНачале('01.01.1900');
	Объект.Метод_3Точки_ВНачале('01.01.1900',);
	Объект.Метод_3Точки_ВНачале('01.01.1900',,);
КонецПроцедуры	// 

Процедура Тест_Метод_Только_3Точки() Экспорт
	Объект = Объект();
	
	Объект.Метод_Только_3Точки('01.01.1900');
	Объект.Метод_Только_3Точки('01.01.1900',);
	Объект.Метод_Только_3Точки('01.01.1900',,);
КонецПроцедуры	// 

Процедура Тест_Метод_СНеопределеннымКоличествомПараметров() Экспорт
	Объект = Объект();
	
	Объект.Метод_СНеопределеннымКоличествомПараметров('01.01.1900', 123, "34");
КонецПроцедуры	// Тест_Метод_СНеопределеннымКоличествомПараметров
	
Процедура Метод_СНеопределеннымКоличествомПараметров_ВМодулеПередачаЧерезЗнач(Знач Значение) Экспорт
	Сам = Сам();
	
	Журнал = СоздатьОбъект("ЖурналВызоваМетодов");
	
	Значение = "ИсправленноеЗначение";
	Журнал.ДобавитьЗапись("Значение:"+Значение);
	
	сзПараметры = Сам.ПолучитьСписокПараметров("Метод_СНеопределеннымКоличествомПараметров_ВМодулеПередачаЧерезЗнач");
	
	//Сообщить("Доп. параметров: "+сзПараметры.РазмерСписка());
	Журнал.ДобавитьЗапись("КоличествоПараметров:"+сзПараметры.РазмерСписка());
КонецПроцедуры

Процедура Тест_Метод_СНеопределеннымКоличествомПараметров_ВМодулеПередачаЧерезЗнач() Экспорт
	Сам = Сам();
	Объект = Объект();
	
	//Объект.Метод_СНеопределеннымКоличествомПараметров_ВМодулеПередачаЧерезЗнач("Строка", 123, "34");
	Сам.ПроверитьИсключение(Объект, "Метод_СНеопределеннымКоличествомПараметров_ВМодулеПередачаЧерезЗнач", "Строка", 123, "34");
	//Сам.ПроверитьРавенство(Объект.Журнал.стрЖурнал, "Значение:ИсправленноеЗначение, КоличествоПараметров:2");
КонецПроцедуры

Процедура Тест_Метод_СНеопределеннымКоличествомПараметров_ВМодулеПередачаКакВПрмФайле() Экспорт
	Сам = Сам();
	Объект = Объект();
	
	Объект.Метод_СНеопределеннымКоличествомПараметров('01.01.1900', 123, "34");
	Сам.ПроверитьРавенство(Объект.Журнал.стрЖурнал, "Значение:01.01.00, КоличествоПараметров:2");
КонецПроцедуры

Процедура Метод_СНеопределеннымКоличествомПараметров_ВМодулеПередачаЧерезЗначВПрмФайле(Значение) Экспорт
	Сам = Сам();
	
	Журнал = СоздатьОбъект("ЖурналВызоваМетодов");
	
	Значение = "ИсправленноеЗначение";
	Журнал.ДобавитьЗапись("Значение:"+Значение);
	
	сзПараметры = Сам.ПолучитьСписокПараметров("Метод_СНеопределеннымКоличествомПараметров_ВМодулеПередачаЧерезЗначВПрмФайле");
	
	//Сообщить("Доп. параметров: "+сзПараметры.РазмерСписка());
	Журнал.ДобавитьЗапись("КоличествоПараметров:"+сзПараметры.РазмерСписка());
КонецПроцедуры

Процедура Тест_Метод_СНеопределеннымКоличествомПараметров_ВМодулеПередачаЧерезЗначВПрмФайле() Экспорт
	Сам = Сам();
	Объект = Объект();
	
//Предупреждение(1);	
	//Объект.Метод_СНеопределеннымКоличествомПараметров_ВМодулеПередачаЧерезЗначВПрмФайле("Строка", 123, "34");
	Сам.ПроверитьИсключение(Объект, "Метод_СНеопределеннымКоличествомПараметров_ВМодулеПередачаЧерезЗначВПрмФайле", "Строка", 123, "34");
	//Сам.ПроверитьРавенство(Объект.Журнал.стрЖурнал, "Значение:ИсправленноеЗначение, КоличествоПараметров:2");
КонецПроцедуры

Процедура Тест_Метод_СНеопределеннымКоличествомПараметров_Деструктор() Экспорт
	Сам = Сам();
	Объект = Объект();

	ОбъектПараметр = СоздатьОбъект("ООППредок");
	Журнал = ОбъектПараметр.ПолучитьЖурналВызовов();
	Сам.ПроверитьРавенство(Журнал.стрЖурнал, "ООППредок::Конструктор, ООППредок::ПолучитьЖурналВызовов");
	
	Объект.Метод_СНеопределеннымКоличествомПараметров('01.01.1900', ОбъектПараметр);
	
	ОбъектПараметр = "";

//Сообщить("Журнал.стрЖурнал = <"+Журнал.стрЖурнал+">");
	Сам.ПроверитьРавенство(Журнал.стрЖурнал, "ООППредок::Конструктор, ООППредок::ПолучитьЖурналВызовов, ООППредок::Деструктор");

	Объект = "";
	Сам.ПроверитьРавенство(Журнал.стрЖурнал, "ООППредок::Конструктор, ООППредок::ПолучитьЖурналВызовов, ООППредок::Деструктор");
КонецПроцедуры	// Тест_Метод_СНеопределеннымКоличествомПараметров

Процедура Тест_Метод_СНеопределеннымКоличествомПараметров_ВернутьСписокПараметров() Экспорт
	Сам = Сам();
	Объект = Объект();
	
	лКоличество = 2;
	
	лСписок = Объект.Метод_СНеопределеннымКоличествомПараметров('01.01.1900', 123, "34");
	
	Сам.ПроверитьТипЗначения(лСписок, "СписокЗначений");
	Сам.ПроверитьРавенство(Объект.Журнал.стрЖурнал, "Значение:01.01.00, КоличествоПараметров:"+лКоличество);
	Сам.ПроверитьРавенство(лСписок.РазмерСписка(), лКоличество);
КонецПроцедуры

Процедура Тест_Метод_СНеопределеннымКоличествомПараметров_ВызовИзНаследника() Экспорт
	Сам = Сам();

	Помощник = СоздатьОбъект("ТестовыйСлучайСДанными");
	СтрокаНаследников = ТипЗначенияСтр(вирт());
	
	ТекстКласса = "// пусто ";
	
	ИмяНовогоКласса = Помощник.СоздатьНовыйКлассНаследник(ТекстКласса, СтрокаНаследников);
	Объект = СоздатьОбъект(ИмяНовогоКласса);

	//Объект.Метод_СНеопределеннымКоличествомПараметров('01.01.1900', 123, "34");
	лКоличество = 2;
	Объект.Вызвать_Метод_СНеопределеннымКоличествомПараметров(лКоличество);
	Сам.ПроверитьРавенство(Объект.Журнал.стрЖурнал, "Значение:01.01.00, КоличествоПараметров:"+лКоличество);
	
	лКоличество = 3;
	Объект.Вызвать_Метод_СНеопределеннымКоличествомПараметров(лКоличество);
	Сам.ПроверитьРавенство(Объект.Журнал.стрЖурнал, "Значение:01.01.00, КоличествоПараметров:"+лКоличество);
КонецПроцедуры

Процедура Тест_Метод_СНеопределеннымКоличествомПараметров_ВызовИзНаследника_вирт() Экспорт
	Сам = Сам();

	Помощник = СоздатьОбъект("ТестовыйСлучайСДанными");
	СтрокаНаследников = ТипЗначенияСтр(вирт());
	
	ТекстКласса = "// пусто ";
	
	ИмяНовогоКласса = Помощник.СоздатьНовыйКлассНаследник(ТекстКласса, СтрокаНаследников);
	Объект = СоздатьОбъект(ИмяНовогоКласса);

	//Объект.Метод_СНеопределеннымКоличествомПараметров_вирт('01.01.1900', 123, "34");
	лКоличество = 3;
	лСписок = Объект.Вызвать_Метод_СНеопределеннымКоличествомПараметров_вирт(лКоличество);
	Сам.ПроверитьТипЗначения(лСписок, "СписокЗначений");
	Сам.ПроверитьРавенство(Объект.Журнал.стрЖурнал, "КоличествоПараметров:"+лКоличество);
	Сам.ПроверитьРавенство(лСписок.РазмерСписка(), лКоличество);
	
	//Объект.Метод_СНеопределеннымКоличествомПараметров_вирт('01.01.1900', 123, "34", 12);
	лКоличество = 4;
	лСписок = Объект.Вызвать_Метод_СНеопределеннымКоличествомПараметров_вирт(лКоличество);
	Сам.ПроверитьТипЗначения(лСписок, "СписокЗначений");
	Сам.ПроверитьРавенство(Объект.Журнал.стрЖурнал, "КоличествоПараметров:"+лКоличество);
	Сам.ПроверитьРавенство(лСписок.РазмерСписка(), лКоличество);
КонецПроцедуры

Процедура Тест_Функция_СНеопределеннымКоличествомПараметров_БезВозвращаемогоЗначенияВ_PrmФайле() Экспорт
	Сам = Сам();
	Объект = Объект();
	
	вирт().ПроверитьИсключение(Объект, "Функция_СНеопределеннымКоличествомПараметров_БезВозвращаемогоЗначенияВ_PrmФайле", '01.01.1900', 123, "34");
КонецПроцедуры

Процедура Тест_Процедура_СНеопределеннымКоличествомПараметров_БезВозвращаемогоЗначенияВ_PrmФайле() Экспорт
	Сам = Сам();
	Объект = Объект();
	
	Объект.Процедура_СНеопределеннымКоличествомПараметров_БезВозвращаемогоЗначенияВ_PrmФайле('01.01.1900', 123, "34");
	Сам.ПроверитьРавенство(Объект.Журнал.стрЖурнал, "КоличествоПараметров:3");
КонецПроцедуры
