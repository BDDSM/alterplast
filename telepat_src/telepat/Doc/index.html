<html>
<head>
<title>Телепат</title>
<!--<LINK REL=stylesheet HREF="styles.css" TYPE="text/css">-->
</head>
<body>
<hr size=1 color=#999999>
<div class=head><a name="whatisit"></a>ЧТО ЭТО ТАКОЕ</div>
<b>Телепат</b> - это плагин для <a href="http://openconf.itland.ru">OpenConf</a>, расширяющий возможности
встроенного в Конфигуратор 1С-Предприятия 7.7 текстового редактора.<br>
<b>Разработчик:</b> <a href="mailto:orefkov@ezmail.ry">Александр Орефков</a><br><br>
Для работы используется недокументированный интерфейс взаимодействия с программой
1С-Предприятие путем прямого обращения к функциям, экспортируемых из dll-файлов 1С.<br>
<FONT color="red"><b>Никаких гарантий работоспособности плагина не предоставляется. Используйте на свой страх и риск.</b></FONT><br>
<br>
<hr size=1 color=#999999>
<div class=head><a name="features"></a>ТЕКУЩИЕ ВОЗМОЖНОСТИ</div>
<ul type=square compact>
<li><a href="#autocomplete">Автозавершение набираемых идентификаторов (CodeComplete)</a></li>
<li><a href="#codejump">Быстрый переход к методам и переменным (CodeJump)</a></li>
<li>Подсказка о параметрах методов</li>
<li>Замена стандартного диалога "Процедуры и функции модуля"</li>
<li>Автозамены</li>
<li>Расширение возможностей механизма шаблонов</li>
<li>Програмное управление из скриптов OpenConf'а</li>
<li>Добавление команд в контекстное меню и меню "Действия"</li>
<li>Дополнительная панель инструментов "Телепат"</li>
</ul>

<div class=head>ПЛАНИРУЕМЫЕ ВОЗМОЖНОСТИ</div>
<ul type=square compact>
<li>Работа с методами и атрибутами объектов (работа после точки)</li>
</ul>

<hr size=1 color=#999999>
<div class=head><a name="setup"></a>ФАЙЛЫ ПОСТАВКИ</div>
В дистрибутив <b>Телепата</b> включены следующие файлы:<br>
<table border="0" cellspacing="0" cellpadding="2" width="90%">
<tr><td>&nbsp;</td><td colspan=2><hr size=1 color=#999999></td></tr>
<tr><td width="5%">&nbsp;</td><td><b>telepat.dll</b></td><td>непосредственно сам плагин. Для работы достаточно одного этого файла</td></tr>
<tr><td>&nbsp;</td><td colspan=2><hr size=1 color=#999999></td></tr>
<tr><td>&nbsp;</td><td><b>telepat.chm</b></td><td>данный файл справки</td></tr>
<tr><td>&nbsp;</td><td colspan=2><hr size=1 color=#999999></td></tr>
<tr><td>&nbsp;</td><td><b>history.txt</b></td><td>история изменений от версии к версии</td></tr>
<tr><td>&nbsp;</td><td colspan=2><hr size=1 color=#999999></td></tr>
<tr><td>&nbsp;</td><td><b>telepat.vbs</b></td><td>пример скрипта для OpenConf, написанный на VBScript и демонстрирующий возможности програмной работы с <b>Телепатом</b></td></tr>
<tr><td>&nbsp;</td><td colspan=2><hr size=1 color=#999999></td></tr>
<tr><td>&nbsp;</td><td><b>1cv7srct.st</b></td><td>пример динамических шаблонов, обрабатываемых в примере telepat.vbs</td></tr>
<tr><td>&nbsp;</td><td colspan=2><hr size=1 color=#999999></td></tr>
</table>
<br>
<div class=head>УСТАНОВКА</div>
<b>Для работы Телепата необходим OpenConf версии не ниже 1.0.1.2</b><br>
Если у вас уже установлен OpenConf нужной версии, то вы можете
пропустить раздел по его установке. 
В противном случае сначала вам необходимо установить OpenConf.
Для этого проделайте следующее:
<center>
<div class=note>
<ul type=square compact>
<li>Перейдите по адресу <a href="http://openconf.itland.ru/beta">http://openconf.itland.ru/beta</a>,
   и скачайте там текущую версию OpenConf'а.</li>
<li>Выясните, где у вас размещены исполняемые файлы 1С-Предприятия.<br>
   (Обычно C:\Program Files\1CV77\BIN)<br>
   В каталоге исполняемых файлов 1С (<b>"BIN"</b>) создайте каталог <b>"CONFIG"</b>.</li>
<li>Файл <i>"config.dll"</i>, расположенный в каталоге <b>"BIN"</b>, переместите в
   созданный каталог <b>"BIN\CONFIG"</b>.</li>
<li>Файлы <i>"config.dll"</i> и <i>"config.tlb"</i> из скачанного архива распакуйте
   в каталог <b>"BIN"</b>.</li>
<li>В созданном каталоге <b>"BIN\CONFIG"</b> создайте каталог <b>"SCRIPTS"</b>.</li>
</ul>
После этого у вас должна получиться такая структура файлов и каталогов:<br>
<b>\BIN</b><br>
&nbsp;&nbsp;&nbsp;&nbsp;<i>config.dll</i> (от OpenConf)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<i>config.tlb</i><br>
&nbsp;&nbsp;&nbsp;&nbsp;<b>\CONFIG</b><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i>config.dll</i> (от 1С)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>\SCRIPTS</b><br><br>
Далее запустите Конфигуратор на <b>тестовой базе</b>.<br>
Откройте конфигурацию. Если все было проделано правильно, в окне
конфигурации у вас появится вкладка "OpenConf".<br><br>
<center><img src="octab.gif" alt="Вкладка OpenConf'а"></center><br>
OpenConf установлен.<br>
</div></center><br>
Теперь собственно установка <b>Телепата</b>.<br>
Просто разместите файл <i><b>telepat.dll</b></i> в каталоге <b>BIN\CONFIG</b>.<br>
После этого запустите Конфигуратор, и откройте конфигурацию.
Если все сделано правильно, то на вкладке "OpenConf" можно увидеть следующую картинку:<br><br>
<center><img src="tree.gif" alt="Загруженный плагин"></center><br>

Если вы намерены пользоваться програмными возможностями <b>Телепата</b>, то
можете разместить прилагаемый пример скрипта <i><b>telepat.vbs</b></i> в каталоге <b>BIN\CONFIG\SCRIPTS</b>.<br>
В этом случае вы также можете посмотреть работу примера динамически обрабатываемых
шаблонов. Для этого в конфигураторе выберите пункт меню "Сервис-Параметры", и на
вкладке "Синтакс-Помощник" укажите расположение файла <i><b>1cv7srct.st</b></i> из дистрибутива <b>Телепата</b>.<br>
<b>ВАЖНО: на машинах с W2K, XP и тп первый запуск OpenConf'а и Телепата должен производиться пользователем
с правами локального администратора, либо имеющим права на запись в HKCR ветку
реестра</b>
<br><br>
<hr size=1 color=#999999>
<center><h4>ВОЗМОЖНОСТИ ТЕЛЕПАТА</h4></center>
<hr size=1 color=#999999>
<div class=head><a name="autocomplete"></a>Автозавершение набираемых идентификаторов (CodeComplete)</div>
Данная возможность позволяет быстрее вводить различные идентификаторы за счет
того, что при начале набора слова появляется список его возможных завершений,
из которых можно выбрать нужное и вставить в текст нажатием <b>TAB</b> или <b>ENTER</b>:
<div><br><center><img src="autocomp1.gif" alt="Автозавершение" border=1></center><br></div>
Список завершений появляется либо автоматически, когда длина набранного слова
достигнет значения, установленного в настройках Телепата, либо принудительно
нажатием сочетания кнопок <b>Ctrl+Пробел</b>.<br>
Также можно активировать список с помощью пункта меню <i>"Завершить слово"</i> в меню <i>"Действия"</i>
или контекстного меню, а также соответствующей кнопки <img src="ico00001.gif"> на панели инструментов <i>"Телепат"</i>.<br><br>
Список содержит все слова, начинающиеся с уже введенных символов и по мере
набора сокращается.<br>
Слова в списке сортируются по алфавиту, кроме тех слов, которые до этого уже вставлялись из списка.
Такие слова размещаются в начале.<br>
В список включены также <i>ключевые слова</i> языка 1С.<br><br>
Для уменьшения количества возможных завершений при активации списка
производится анализ текста модуля перед местом вставки и определяется набор, допустимый
в данном месте.<br>
Все методы разделены на три группы:
<ul>
<li>процедуры - недопустимы в выражениях и могут появлятся только в начале оператора.</li>
<li>функции - могут появлятся как в начале оператора, так и в выражениях.</li>
<li>функции, допустимые только в выражениях - например, СокрЛП, НачМесяца и тп.</li>
Хотя синтаксически допустимо вызывать эти функции как процедуры, но практического
смысла это не имеет, и поэтому такие функции появляются только в выражениях.</li>
</ul>
Аналогичный анализ производится для ключевых слов.<br> Ключевое слово появляется в списке,
только если оно допустимо в месте вставки.<br>
Например, вы набрали
<div class=code>
Если 1=1
</div>
и нажали Ctrl+Пробел, в списке завершений появится только <b>Тогда</b>:<br>
<div><br><center><img src="autocomp2.gif" alt="Автозавершение" border=1></center><br></div>
А если набрано
<div class=code>
Если (1=1) 
</div>
в списке завершений появится <b>И, ИЛИ, Тогда</b>:<br>
<div><br><center><img src="autocomp3.gif" alt="Автозавершение" border=1></center><br></div>
<br>
Помимо ключевых слов в список включено 7 предопределенных языковых констркций:
<ul>
<li>Функция_КонецФункции</li>
<li>Процедура_КонецПроцедуры</li>
<li>Если_КонецЕсли</li>
<li>ИначеЕсли_Тогда</li>
<li>Пока_КонецЦикла</li>
<li>Для_КонецЦикла</li>
<li>Попытка_КонецПопытки</li>
</ul>
которые вставляет сразу блок из нескольких ключевых слов.<br>
При вставке ключевых слов и предопределенных блоков в месте
вставки производится автоформатирование текста (то, которое по Ctrl+Shift+F)
<P>
При включенной настройке "Добавлять шаблоны в список" в списке завершений
появляются слова, автоматически заменяемые с помощью механизма шаблонов.<br>
При этом слово попадает в список, если оно подпадает под определение идентификатора
(начинается с буквы или подчеркивания и содержит только буквы, цифры и подчеркивания).
</P>
<P>
Кроме того, список завершений появляется при наборе строковых выражений.
В этом случае список позволяет быстро выбрать названия и реквизиты справочников,
документов, журналов, регистров, отчетов, обработок и планов счетов.
</P>
<P>
Для более удобной ориентации в списке, каждое слово в нем сопровождается иконкой.
<table border="0" cellspacing="0" cellpadding="2" width="90%">
<tr><td><center><img src="cmmetpriv.gif"></center></td><td>Метод в текущем модуле</td></tr>
<tr><td><center><img src="cmmetexp.gif"> </center></td><td>Экспортируемый метод в текущем модуле</td></tr>
<tr><td><center><img src="cmatrpriv.gif"></center></td><td>Переменная текущего модуля</td></tr>
<tr><td><center><img src="cmatrexp.gif"> </center></td><td>Экспортируемая переменная текущего модуля</td></tr>
<tr><td><center><img src="gmmetpriv.gif"></center></td><td>Метод глобального модуля</td></tr>
<tr><td><center><img src="gmmetexp.gif"> </center></td><td>Экспортируемый метод глобального модуля</td></tr>
<tr><td><center><img src="gmatrpriv.gif"></center></td><td>Переменная глобального модуля</td></tr>
<tr><td><center><img src="gmatrexp.gif"> </center></td><td>Экспортируемая переменная глобального модуля</td></tr>
<tr><td><center><img src="dlgfield.gif"> </center></td><td>Реквизит формы</td></tr>
<tr><td><center><img src="keyfunc.gif">  </center></td><td>Стандартный метод 1С</td></tr>
<tr><td><center><img src="keyatr.gif">   </center></td><td>Стандартный объект 1С</td></tr>
<tr><td><center><img src="keyword.gif">  </center></td><td>Ключевое слово</td></tr>
<tr><td><center><img src="localvar.gif"> </center></td><td>Локальная переменная</td></tr>
<tr><td><center><img src="metaatr.gif">  </center></td><td>Атрибут метаданных текущего модуля</td></tr>
<tr><td><center><img src="strings.gif">  </center></td><td>Различные строковые идентификаторы</td></tr>
<tr><td><center><img src="templates.gif"></center></td><td>Предопределенные блоки или слова замены шаблонов</td></tr>
</table>
</P>
<P>
<b>Работа со списком.</b><br>
При активном списке завершений нажатия <b>стрелок вверх/вниз</b> пермещают выбранное слово.<br>
Нажатие <b>TAB</b> или <b>ENTER</b> вставляют выбранное слово в текстовый редактор.<br>
Нажатие любого символа, недопустимого в идентификаторах, либо ввод символа, при котором
для набранного слова нет возможных завершений, либо <b>ESC</b>, приводит к скрытию списка.
В этом случае автоактивация списка отключается до тех пор, пока снова не будет
введен символ, недопустимый в идентификаторах.
</P>
<P>
<div class=note>
<b>Ускоренный анализ текста модуля</b><br>
При автоактивации списка завершений для более быстрой работы применяется ускоренный анализ
текста модуля. При этом текст анализируется не с самого начала, а с ближайшего слова "Процедура", "Функция",
"КонецПроцедуры", "КонецФункции". Предполагается, что структура модуля до этого места не изменилась с
момента предыдущего анализа (в большинстве случаев это так).<br>
Но так как технически очень сложно отследить все действия с текстом модуля, могущие изменить его структуру,
возможно появление в автоматически появляющемся списке "устаревших" данных или наоборот, отсутствие "свежих".<br>
В этом случае достаточно "принудительно" вызвать список завершений.
При таком вызове производится полный повторный анализ текста модуля.
</div>
</P>
<hr size=1 color=#999999>
<div class=head><a name="codejump"></a>Быстрый переход к методам и переменным (CodeJump)</div>
Данная возможность позволяет с легкостью перемещаться по коду подобно работе в интернет-браузерах.
Для навигации используется
O0xH3D


</body>
</html>
